package datenbankanbindung;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import javax.sql.DataSource;

import org.mariadb.jdbc.MariaDbDataSource;

public class Kartenverkauf {

	public DataSource datasource;
	
	
	Kartenverkauf() {
		this.datasource = new MariaDbDataSource("jdbc:mariadb://rechentitan.dm.hs-furtwangen.de:3306/user37?user=user37&password=d83r235888aßß06");

		try (Connection connection = datasource.getConnection()) {

			System.out.println("\nVerbindung erfolgreich hergestellt");
			ResultSet rs = connection.createStatement().executeQuery("show databases");
			System.out.println("Verf√ºgbare Datenbanken:");

			while (rs.next()) {
				System.out.println("- " + rs.getString("database"));
			}

		} catch (SQLException e) {
			System.out.println("sql error: ");
			e.printStackTrace();
		}
	}

	public Sitzplatz getSitzplatz(int nr) {
		try (Connection connection = this.datasource.getConnection();) {
			Statement statement = connection.createStatement();

			ResultSet resultset = statement.executeQuery("SELECT * FROM `karten` WHERE `index-sitzplatz` = " + nr);
			while (resultset.next()) {
				System.out.println(resultset.getString("vorname"));

				System.out.println(resultset.getString("nachname"));
				System.out.println(resultset.getInt("matrikelnummer"));
			}
		} catch (SQLException e) {
			e.printStackTrace();
		}

		return null;
	}

	public Sitzplatz[] getSitzpl‰tze() {

	}

	public boolean getReservierungenAnnehmen() {

	}

	public String toString() {

	}

	public void kaufe(int nr) {

	}

	public void reserviere(int nr, String name) {

	}

	public void kaufeReserviert(int nr, String name) {

	}

	public void storniere(int nr) {

	}

	public void hebeReservierungenAuf() {

	}

	public void initialisiere() {

	}
}
